webpackJsonp([2],{Apu8:function(t,e,o){e=t.exports=o("I71c")(!0),e.push([t.i,"\n.category-wrapper[data-v-6b07f932] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.category-wrapper .button-wrapper[data-v-6b07f932] {\n  position: absolute;\n  right: 40px;\n  top: 240px;\n  z-index: 50;\n}\n.category-wrapper .button-wrapper span[data-v-6b07f932] {\n  letter-spacing: 1px;\n}","",{version:3,sources:["D:/workspace/keepmoving/src/components/category/category.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;CAChC;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,YAAY;CACb;AACD;EACE,oBAAoB;CACrB",file:"category.vue",sourcesContent:["\n.category-wrapper[data-v-6b07f932] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.category-wrapper .button-wrapper[data-v-6b07f932] {\n  position: absolute;\n  right: 40px;\n  top: 240px;\n  z-index: 50;\n}\n.category-wrapper .button-wrapper span[data-v-6b07f932] {\n  letter-spacing: 1px;\n}"],sourceRoot:""}])},f7dn:function(t,e,o){var n=o("Apu8");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("8bSs")("aacc347e",n,!0)},hKa2:function(t,e,o){t.exports=o.p+"static/img/star.b0433d0.png"},pDIK:function(t,e,o){var n=o("ymz5");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("8bSs")("43a8edaf",n,!0)},tRvw:function(t,e,o){"use strict";function n(t){o("pDIK")}var r={props:{title:{type:String,default:""}}},a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"no-result"},[t._m(0),t._v(" "),o("p",{staticClass:"no-result-text"},[t._v(t._s(t.title))])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-result-icon"},[n("img",{attrs:{src:o("hKa2"),height:"128",width:"128"}})])}],s={render:a,staticRenderFns:i},l=s,c=o("X4nt"),p=n,d=c(r,l,!1,p,"data-v-02683276",null);e.a=d.exports},ymz5:function(t,e,o){e=t.exports=o("I71c")(!0),e.push([t.i,"\n.no-result[data-v-02683276] {\n  text-align: center;\n}\n.no-result .no-result-icon[data-v-02683276] {\n  margin-top: 30px;\n}\n.no-result .no-result-text[data-v-02683276] {\n  margin: 30px 0;\n  font-size: 14px;\n  color: #696969;\n}","",{version:3,sources:["D:/workspace/keepmoving/src/base/no-result/no-result.vue"],names:[],mappings:";AACA;EACE,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,eAAe;EACf,gBAAgB;EAChB,eAAe;CAChB",file:"no-result.vue",sourcesContent:["\n.no-result[data-v-02683276] {\n  text-align: center;\n}\n.no-result .no-result-icon[data-v-02683276] {\n  margin-top: 30px;\n}\n.no-result .no-result-text[data-v-02683276] {\n  margin: 30px 0;\n  font-size: 14px;\n  color: #696969;\n}"],sourceRoot:""}])},zlCH:function(t,e,o){"use strict";function n(t){o("f7dn")}Object.defineProperty(e,"__esModule",{value:!0});var r=o("P9l9"),a=o("dgPx"),i=o("y/jF"),s=o("tRvw"),l={data:function(){return{category:[],title:"",params:{gender1:"",gender2:"",category:"",is_sale:"",is_new:"",is_hot:"",ordering:"",page:"1"},getGoodFlag:!1,getMoreFlag:!0,flag:!0,total:0}},created:function(){this._initCategory()},mounted:function(){window.addEventListener("scroll",this.handleScroll)},watch:{"$route.params":"_initCategory"},methods:{handleScroll:function(){if(this.getGoodFlag&&this.getMoreFlag&&document.body.scrollHeight-window.scrollY<1e3){if(this.getMoreFlag=!1,this.total<=12||!1===this.showMore)return;this.params.page++,this.getMore()}},getMore:function(){var t=this;Object(r.k)(this._normalizeItem()).then(function(e){e.data.next||(t.showMore=!1),t.category=t.category.concat(e.data.results),t.getMoreFlag=!0})},_initCategory:function(){this.category=[],this.item1=this.$route.params.item1,this.item2=this.$route.params.item2,this.params={gender1:"",gender2:"",category:"",is_sale:"",is_new:"",is_hot:"",ordering:"",page:"1"},this.showMore=!0,this.getGoodFlag=!1,this.getMoreFlag=!0,this.total=0,this.item1&&this.item2&&this._getGoods()},_normalizeTitle:function(){var t="",e="";"male"===this.item1&&(t="男士"),"female"===this.item1&&(t="女士"),"new"===this.item1&&(t="新品"),"sale"===this.item1&&(t="大减价"),"sneakers"===this.item2&&(e="踩的"),"clothing"===this.item2&&(e="穿的"),"accessories"===this.item2&&(e="戴的"),this.document_title=t+"-"+e,document.title=this.document_title+"|KeepMoving",this.title=t+" / "+e+" / "+this.total+"件商品"},_normalizeItem:function(){"male"!==this.item1&&"female"!==this.item1||(this.params.gender1=this.item1,this.params.gender2="neutral"),"new"===this.item1&&(this.params.is_new=!0),"sale"===this.item1&&(this.params.is_sale=!0),"sneakers"===this.item2&&(this.params.category="踩的"),"clothing"===this.item2&&(this.params.category="穿的"),"accessories"===this.item2&&(this.params.category="戴的");var t=window.location.href,e=t.match(/ordering=(.*)/);return e&&(this.params.ordering=e[1]),this.params},_getGoods:function(){var t=this;Object(r.k)(this._normalizeItem()).then(function(e){t.category=e.data.results,t.total=e.data.count,t._normalizeTitle(),t.total<12&&(t.showMore=!1),t.getGoodFlag=!0})}},components:{GoodList:a.a,Loading:i.a,NoResult:s.a}},c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-wrapper"},[o("div",{staticClass:"button-wrapper"},[o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[t._v("\n        筛选"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("router-link",{attrs:{to:"/category/"+t.$route.params.item1+"/"+t.$route.params.item2+"?ordering=price"}},[o("span",[t._v("价格 ↑")])])],1),t._v(" "),o("el-dropdown-item",{attrs:{divided:""}},[o("router-link",{attrs:{to:"/category/"+t.$route.params.item1+"/"+t.$route.params.item2+"?ordering=-price"}},[o("span",[t._v("价格 ↓")])])],1),t._v(" "),o("el-dropdown-item",{attrs:{divided:""}},[o("router-link",{attrs:{to:"/category/"+t.$route.params.item1+"/"+t.$route.params.item2+"?ordering=sold_num"}},[o("span",[t._v("销量 ↑")])])],1),t._v(" "),o("el-dropdown-item",{attrs:{divided:""}},[o("router-link",{attrs:{to:"/category/"+t.$route.params.item1+"/"+t.$route.params.item2+"?ordering=-sold_num"}},[o("span",[t._v("销量 ↓")])])],1)],1)],1)],1),t._v(" "),o("good-list",{attrs:{title:t.title,goods:t.category,adjust:!0}}),t._v(" "),o("loading",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}]}),t._v(" "),o("no-result",{directives:[{name:"show",rawName:"v-show",value:!t.category.length&&t.getGoodFlag,expression:"!category.length && getGoodFlag"}],attrs:{title:"抱歉，暂时找不到相关商品"}})],1)},p=[],d={render:c,staticRenderFns:p},m=d,u=o("X4nt"),g=n,h=u(l,m,!1,g,"data-v-6b07f932",null);e.default=h.exports}});
//# sourceMappingURL=2.143e9ddb04a3797c55af.js.map